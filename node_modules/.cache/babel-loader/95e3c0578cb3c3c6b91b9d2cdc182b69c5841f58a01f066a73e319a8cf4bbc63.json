{"ast":null,"code":"var _jsxFileName = \"C:\\\\Studium_Data\\\\IV_Assigment_2\\\\IV-Geographical-Mapping-Visualizator\\\\UE\\\\Assignment_2\\\\src\\\\components\\\\ArtVisCollaborationNetwork.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\n\n// ------------------\n// Type Definitions\n// ------------------\n\n// Extend the link type so that D3 knows source/target refer to NodeDatum\n\n// The top-level JSON structure from /data/artvis_collaboration_network.json\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ArtVisCollaborationNetwork = () => {\n  _s();\n  const svgRef = useRef(null);\n  const tooltipRef = useRef(null);\n\n  // -- State for data and user interactions --\n  const [data, setData] = useState(null);\n  const [minEdgeWeight, setMinEdgeWeight] = useState(1);\n  const [sortConfig, setSortConfig] = useState(null);\n\n  // Example: fetch node-link data\n  const fetchCollaborationData = async () => {\n    try {\n      // Adjust the path to your actual JSON file if needed\n      const response = await fetch('/data/artist_collaboration_network.json');\n      if (!response.ok) throw new Error('Failed to fetch network data');\n      const jsonData = await response.json();\n\n      // Convert node IDs to numbers, if they're not already\n      jsonData.nodes.forEach(n => {\n        n.id = +n.id; // ensure numeric\n      });\n\n      // Convert link sources/targets to numbers if needed\n      jsonData.links.forEach(link => {\n        if (typeof link.source === 'string') link.source = +link.source;\n        if (typeof link.target === 'string') link.target = +link.target;\n      });\n      setData(jsonData);\n    } catch (error) {\n      console.error('Error fetching network data:', error);\n      setData(null);\n    }\n  };\n  useEffect(() => {\n    fetchCollaborationData();\n  }, []);\n\n  // Utility to filter out edges below minEdgeWeight,\n  // so we keep a \"filtered\" version of the graph.\n  const filteredData = () => {\n    if (!data) return {\n      nodes: [],\n      links: []\n    };\n\n    // Filter links by weight, then derive the set of used node IDs (number).\n    const validLinks = data.links.filter(link => (link.weight || 0) >= minEdgeWeight);\n    const usedNodeIds = new Set(validLinks.flatMap(link => [typeof link.source === 'object' ? link.source.id : link.source, typeof link.target === 'object' ? link.target.id : link.target]));\n\n    // Keep only nodes that appear in at least one link\n    const validNodes = data.nodes.filter(node => usedNodeIds.has(node.id));\n    return {\n      nodes: validNodes,\n      links: validLinks\n    };\n  };\n\n  // Table summary data (just a trivial example).\n  // We’ll show the node’s nationality and how many times it appears.\n  const summaryData = () => {\n    const {\n      nodes\n    } = filteredData();\n    let result = nodes.map(n => ({\n      id: n.id,\n      nationality: n.nationality || 'Unknown',\n      exhibitions_count: n.exhibitions_count || 0\n    }));\n\n    // Sort if needed\n    if (sortConfig) {\n      const {\n        key,\n        direction\n      } = sortConfig;\n      result.sort((a, b) => {\n        if (a[key] < b[key]) return direction === 'asc' ? -1 : 1;\n        if (a[key] > b[key]) return direction === 'asc' ? 1 : -1;\n        return 0;\n      });\n    }\n    return result;\n  };\n  const handleSort = key => {\n    let direction = 'asc';\n    if (sortConfig && sortConfig.key === key && sortConfig.direction === 'asc') {\n      direction = 'desc';\n    }\n    setSortConfig({\n      key,\n      direction\n    });\n  };\n\n  // Optionally, export the summary as JSON\n  const exportData = () => {\n    const blob = new Blob([JSON.stringify(summaryData(), null, 2)], {\n      type: 'application/json'\n    });\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = 'collaboration_summary.json';\n    link.click();\n  };\n\n  // ---------------\n  // MAIN D3 RENDER\n  // ---------------\n  useEffect(() => {\n    if (!data || !svgRef.current) return;\n    const {\n      nodes,\n      links\n    } = filteredData();\n\n    // Clear previous render\n    const svg = d3.select(svgRef.current);\n    svg.selectAll('*').remove();\n\n    // Tooltip\n    const tooltip = d3.select(tooltipRef.current);\n\n    // Dimensions\n    const width = 900;\n    const height = 500;\n\n    // Create the force simulation with NodeDatum\n    const simulation = d3.forceSimulation(nodes).force('link', d3.forceLink(links).id(d => d.id).distance(200)).force('charge', d3.forceManyBody().strength(-200)).force('center', d3.forceCenter(width / 2, height / 2)).force('collide', d3.forceCollide(25));\n\n    // Prepare color or size scales:\n    // nationality might be undefined => fallback to \"Unknown\"\n    const nationalitySet = Array.from(new Set(nodes.map(n => n.nationality || \"Unknown\")));\n    const colorScale = d3.scaleOrdinal().domain(nationalitySet).range(d3.schemeCategory10);\n\n    // Node size by exhibitions_count\n    const maxExhibitions = d3.max(nodes, d => d.exhibitions_count || 0) || 1;\n    const sizeScale = d3.scaleSqrt().domain([0, maxExhibitions]).range([5, 30]);\n\n    // Create container group\n    const g = svg.append('g');\n\n    // Edges\n    const linkSelection = g.selectAll('line').data(links).enter().append('line').attr('stroke', '#999').attr('stroke-width', d => Math.sqrt(d.weight || 1));\n\n    // Nodes\n    const nodeSelection = g.selectAll('circle').data(nodes).enter().append('circle').attr('r', d => sizeScale(d.exhibitions_count || 0)).attr('fill', d => colorScale(d.nationality || 'Unknown')).on('mouseover', (event, d) => {\n      tooltip.style('visibility', 'visible').html(`\n            <strong>${d.firstname || ''} ${d.lastname || ''}</strong><br/>\n            Nationality: ${d.nationality || 'Unknown'}<br/>\n            Exhibitions: ${d.exhibitions_count || 0}<br/>\n          `);\n    }).on('mousemove', event => {\n      tooltip.style('top', `${event.pageY + 10}px`).style('left', `${event.pageX + 10}px`);\n    }).on('mouseout', () => {\n      tooltip.style('visibility', 'hidden');\n    }).call(d3.drag().on('start', (event, d) => {\n      if (!event.active) simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    }).on('drag', (event, d) => {\n      d.fx = event.x;\n      d.fy = event.y;\n    }).on('end', (event, d) => {\n      if (!event.active) simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    }));\n\n    // Zoom handling\n    const zoom = d3.zoom().scaleExtent([0.5, 8]).on('zoom', event => {\n      g.attr('transform', event.transform);\n    });\n    svg.call(zoom);\n\n    // Ticking the simulation\n    simulation.on('tick', () => {\n      linkSelection.attr('x1', d => {\n        var _x;\n        return (_x = d.source.x) !== null && _x !== void 0 ? _x : 0;\n      }).attr('y1', d => {\n        var _y;\n        return (_y = d.source.y) !== null && _y !== void 0 ? _y : 0;\n      }).attr('x2', d => {\n        var _x2;\n        return (_x2 = d.target.x) !== null && _x2 !== void 0 ? _x2 : 0;\n      }).attr('y2', d => {\n        var _y2;\n        return (_y2 = d.target.y) !== null && _y2 !== void 0 ? _y2 : 0;\n      });\n      nodeSelection.attr('cx', d => {\n        var _d$x;\n        return (_d$x = d.x) !== null && _d$x !== void 0 ? _d$x : 0;\n      }).attr('cy', d => {\n        var _d$y;\n        return (_d$y = d.y) !== null && _d$y !== void 0 ? _d$y : 0;\n      });\n    });\n  }, [data, minEdgeWeight, sortConfig]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        alignSelf: 'flex-start',\n        marginBottom: '10px',\n        padding: '10px 20px',\n        fontSize: '14px',\n        cursor: 'pointer'\n      },\n      onClick: () => window.location.href = '/',\n      children: \"Go Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Artist Collaboration Network\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        maxWidth: '600px',\n        textAlign: 'center',\n        margin: '10px 0'\n      },\n      children: \"This visualization shows collaborations among artists based on shared exhibitions. Nodes represent individual artists, and edges indicate shared exhibitions, weighted by how many times artists exhibited together.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: svgRef,\n        width: 900,\n        height: 500,\n        style: {\n          border: '1px solid #ccc'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: tooltipRef,\n      style: {\n        position: 'absolute',\n        visibility: 'hidden',\n        background: '#fff',\n        padding: '5px',\n        border: '1px solid #ccc',\n        borderRadius: '4px',\n        pointerEvents: 'none',\n        zIndex: 10\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-around',\n        width: '100%',\n        marginTop: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: \"1\",\n          max: \"10\",\n          value: minEdgeWeight,\n          onChange: e => setMinEdgeWeight(parseInt(e.target.value, 10)),\n          style: {\n            width: '300px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Minimum Shared-Exhibition Weight: \", minEdgeWeight]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      style: {\n        marginTop: '20px',\n        borderCollapse: 'collapse',\n        width: '80%',\n        textAlign: 'left'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          style: {\n            backgroundColor: '#f2f2f2'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '10px',\n              border: '1px solid #ddd'\n            },\n            children: [\"ID\", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSort('id'),\n              style: {\n                marginLeft: '10px',\n                backgroundColor: '#ddd',\n                border: 'none',\n                cursor: 'pointer',\n                padding: '5px'\n              },\n              children: \"Sort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '10px',\n              border: '1px solid #ddd'\n            },\n            children: [\"Nationality\", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSort('nationality'),\n              style: {\n                marginLeft: '10px',\n                backgroundColor: '#ddd',\n                border: 'none',\n                cursor: 'pointer',\n                padding: '5px'\n              },\n              children: \"Sort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              padding: '10px',\n              border: '1px solid #ddd'\n            },\n            children: [\"Exhibitions\", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSort('exhibitions_count'),\n              style: {\n                marginLeft: '10px',\n                backgroundColor: '#ddd',\n                border: 'none',\n                cursor: 'pointer',\n                padding: '5px'\n              },\n              children: \"Sort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: summaryData().map((entry, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '10px',\n              border: '1px solid #ddd'\n            },\n            children: entry.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '10px',\n              border: '1px solid #ddd'\n            },\n            children: entry.nationality\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              padding: '10px',\n              border: '1px solid #ddd'\n            },\n            children: entry.exhibitions_count\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        marginTop: '20px',\n        padding: '10px 20px',\n        fontSize: '14px',\n        cursor: 'pointer'\n      },\n      onClick: exportData,\n      children: \"Export Data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 265,\n    columnNumber: 5\n  }, this);\n};\n_s(ArtVisCollaborationNetwork, \"m58MiUJemWir/1seU9peBCBIBJU=\");\n_c = ArtVisCollaborationNetwork;\nexport default ArtVisCollaborationNetwork;\nvar _c;\n$RefreshReg$(_c, \"ArtVisCollaborationNetwork\");","map":{"version":3,"names":["React","useEffect","useRef","useState","d3","jsxDEV","_jsxDEV","ArtVisCollaborationNetwork","_s","svgRef","tooltipRef","data","setData","minEdgeWeight","setMinEdgeWeight","sortConfig","setSortConfig","fetchCollaborationData","response","fetch","ok","Error","jsonData","json","nodes","forEach","n","id","links","link","source","target","error","console","filteredData","validLinks","filter","weight","usedNodeIds","Set","flatMap","validNodes","node","has","summaryData","result","map","nationality","exhibitions_count","key","direction","sort","a","b","handleSort","exportData","blob","Blob","JSON","stringify","type","document","createElement","href","URL","createObjectURL","download","click","current","svg","select","selectAll","remove","tooltip","width","height","simulation","forceSimulation","force","forceLink","d","distance","forceManyBody","strength","forceCenter","forceCollide","nationalitySet","Array","from","colorScale","scaleOrdinal","domain","range","schemeCategory10","maxExhibitions","max","sizeScale","scaleSqrt","g","append","linkSelection","enter","attr","Math","sqrt","nodeSelection","on","event","style","html","firstname","lastname","pageY","pageX","call","drag","active","alphaTarget","restart","fx","x","fy","y","zoom","scaleExtent","transform","_x","_y","_x2","_y2","_d$x","_d$y","padding","display","flexDirection","alignItems","children","alignSelf","marginBottom","fontSize","cursor","onClick","window","location","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","textAlign","margin","justifyContent","ref","border","position","visibility","background","borderRadius","pointerEvents","zIndex","marginTop","min","value","onChange","e","parseInt","borderCollapse","backgroundColor","marginLeft","entry","index","_c","$RefreshReg$"],"sources":["C:/Studium_Data/IV_Assigment_2/IV-Geographical-Mapping-Visualizator/UE/Assignment_2/src/components/ArtVisCollaborationNetwork.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport * as d3 from 'd3';\r\n\r\n// ------------------\r\n// Type Definitions\r\n// ------------------\r\ninterface NodeDatum extends d3.SimulationNodeDatum {\r\n  id: number; // numeric IDs\r\n  firstname?: string;\r\n  lastname?: string;\r\n  nationality?: string;\r\n  exhibitions_count?: number;\r\n}\r\n\r\n// Extend the link type so that D3 knows source/target refer to NodeDatum\r\ninterface LinkDatum extends d3.SimulationLinkDatum<NodeDatum> {\r\n  weight?: number;\r\n}\r\n\r\n// The top-level JSON structure from /data/artvis_collaboration_network.json\r\ninterface GraphData {\r\n  nodes: NodeDatum[];\r\n  links: LinkDatum[];\r\n}\r\n\r\nconst ArtVisCollaborationNetwork: React.FC = () => {\r\n  const svgRef = useRef<SVGSVGElement | null>(null);\r\n  const tooltipRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  // -- State for data and user interactions --\r\n  const [data, setData] = useState<GraphData | null>(null);\r\n  const [minEdgeWeight, setMinEdgeWeight] = useState<number>(1);\r\n  const [sortConfig, setSortConfig] = useState<{\r\n    key: 'id' | 'nationality' | 'exhibitions_count';\r\n    direction: 'asc' | 'desc';\r\n  } | null>(null);\r\n\r\n  // Example: fetch node-link data\r\n  const fetchCollaborationData = async () => {\r\n    try {\r\n      // Adjust the path to your actual JSON file if needed\r\n      const response = await fetch('/data/artist_collaboration_network.json');\r\n      if (!response.ok) throw new Error('Failed to fetch network data');\r\n      const jsonData: GraphData = await response.json();\r\n\r\n      // Convert node IDs to numbers, if they're not already\r\n      jsonData.nodes.forEach((n) => {\r\n        n.id = +n.id; // ensure numeric\r\n      });\r\n\r\n      // Convert link sources/targets to numbers if needed\r\n      jsonData.links.forEach((link) => {\r\n        if (typeof link.source === 'string') link.source = +link.source;\r\n        if (typeof link.target === 'string') link.target = +link.target;\r\n      });\r\n\r\n      setData(jsonData);\r\n    } catch (error) {\r\n      console.error('Error fetching network data:', error);\r\n      setData(null);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCollaborationData();\r\n  }, []);\r\n\r\n  // Utility to filter out edges below minEdgeWeight,\r\n  // so we keep a \"filtered\" version of the graph.\r\n  const filteredData = () => {\r\n    if (!data) return { nodes: [] as NodeDatum[], links: [] as LinkDatum[] };\r\n\r\n    // Filter links by weight, then derive the set of used node IDs (number).\r\n    const validLinks = data.links.filter(\r\n      (link) => (link.weight || 0) >= minEdgeWeight\r\n    );\r\n\r\n    const usedNodeIds = new Set<number>(\r\n      validLinks.flatMap((link) => [\r\n        typeof link.source === 'object'\r\n          ? (link.source as NodeDatum).id\r\n          : (link.source as number),\r\n        typeof link.target === 'object'\r\n          ? (link.target as NodeDatum).id\r\n          : (link.target as number),\r\n      ])\r\n    );\r\n\r\n    // Keep only nodes that appear in at least one link\r\n    const validNodes = data.nodes.filter((node) => usedNodeIds.has(node.id));\r\n    return { nodes: validNodes, links: validLinks };\r\n  };\r\n\r\n  // Table summary data (just a trivial example).\r\n  // We’ll show the node’s nationality and how many times it appears.\r\n  const summaryData = () => {\r\n    const { nodes } = filteredData();\r\n    let result = nodes.map((n) => ({\r\n      id: n.id,\r\n      nationality: n.nationality || 'Unknown',\r\n      exhibitions_count: n.exhibitions_count || 0,\r\n    }));\r\n\r\n    // Sort if needed\r\n    if (sortConfig) {\r\n      const { key, direction } = sortConfig;\r\n      result.sort((a, b) => {\r\n        if (a[key] < b[key]) return direction === 'asc' ? -1 : 1;\r\n        if (a[key] > b[key]) return direction === 'asc' ? 1 : -1;\r\n        return 0;\r\n      });\r\n    }\r\n    return result;\r\n  };\r\n\r\n  const handleSort = (key: 'id' | 'nationality' | 'exhibitions_count') => {\r\n    let direction: 'asc' | 'desc' = 'asc';\r\n    if (sortConfig && sortConfig.key === key && sortConfig.direction === 'asc') {\r\n      direction = 'desc';\r\n    }\r\n    setSortConfig({ key, direction });\r\n  };\r\n\r\n  // Optionally, export the summary as JSON\r\n  const exportData = () => {\r\n    const blob = new Blob([JSON.stringify(summaryData(), null, 2)], {\r\n      type: 'application/json',\r\n    });\r\n    const link = document.createElement('a');\r\n    link.href = URL.createObjectURL(blob);\r\n    link.download = 'collaboration_summary.json';\r\n    link.click();\r\n  };\r\n\r\n  // ---------------\r\n  // MAIN D3 RENDER\r\n  // ---------------\r\n  useEffect(() => {\r\n    if (!data || !svgRef.current) return;\r\n\r\n    const { nodes, links } = filteredData();\r\n\r\n    // Clear previous render\r\n    const svg = d3.select(svgRef.current);\r\n    svg.selectAll('*').remove();\r\n\r\n    // Tooltip\r\n    const tooltip = d3.select(tooltipRef.current);\r\n\r\n    // Dimensions\r\n    const width = 900;\r\n    const height = 500;\r\n\r\n    // Create the force simulation with NodeDatum\r\n    const simulation = d3\r\n      .forceSimulation<NodeDatum>(nodes)\r\n      .force(\r\n        'link',\r\n        d3\r\n          .forceLink<NodeDatum, LinkDatum>(links)\r\n          .id((d) => d.id)\r\n          .distance(200)\r\n      )\r\n      .force('charge', d3.forceManyBody().strength(-200))\r\n      .force('center', d3.forceCenter(width / 2, height / 2))\r\n      .force('collide', d3.forceCollide(25));\r\n\r\n    // Prepare color or size scales:\r\n    // nationality might be undefined => fallback to \"Unknown\"\r\n    const nationalitySet = Array.from(\r\n      new Set(\r\n        nodes.map((n) => n.nationality || \"Unknown\")\r\n      )\r\n    );\r\n    const colorScale = d3\r\n      .scaleOrdinal<string>()\r\n      .domain(nationalitySet)\r\n      .range(d3.schemeCategory10);\r\n\r\n    // Node size by exhibitions_count\r\n    const maxExhibitions = d3.max(nodes, (d) => d.exhibitions_count || 0) || 1;\r\n    const sizeScale = d3.scaleSqrt().domain([0, maxExhibitions]).range([5, 30]);\r\n\r\n    // Create container group\r\n    const g = svg.append('g');\r\n\r\n    // Edges\r\n    const linkSelection = g\r\n      .selectAll<SVGLineElement, LinkDatum>('line')\r\n      .data(links)\r\n      .enter()\r\n      .append('line')\r\n      .attr('stroke', '#999')\r\n      .attr('stroke-width', (d) => Math.sqrt(d.weight || 1));\r\n\r\n    // Nodes\r\n    const nodeSelection = g\r\n      .selectAll<SVGCircleElement, NodeDatum>('circle')\r\n      .data(nodes)\r\n      .enter()\r\n      .append('circle')\r\n      .attr('r', (d) => sizeScale(d.exhibitions_count || 0))\r\n      .attr('fill', (d) => colorScale(d.nationality || 'Unknown'))\r\n      .on('mouseover', (event, d) => {\r\n        tooltip\r\n          .style('visibility', 'visible')\r\n          .html(`\r\n            <strong>${d.firstname || ''} ${d.lastname || ''}</strong><br/>\r\n            Nationality: ${d.nationality || 'Unknown'}<br/>\r\n            Exhibitions: ${d.exhibitions_count || 0}<br/>\r\n          `);\r\n      })\r\n      .on('mousemove', (event) => {\r\n        tooltip\r\n          .style('top', `${event.pageY + 10}px`)\r\n          .style('left', `${event.pageX + 10}px`);\r\n      })\r\n      .on('mouseout', () => {\r\n        tooltip.style('visibility', 'hidden');\r\n      })\r\n      .call(\r\n        d3\r\n          .drag<SVGCircleElement, NodeDatum>()\r\n          .on('start', (event, d) => {\r\n            if (!event.active) simulation.alphaTarget(0.3).restart();\r\n            d.fx = d.x;\r\n            d.fy = d.y;\r\n          })\r\n          .on('drag', (event, d) => {\r\n            d.fx = event.x;\r\n            d.fy = event.y;\r\n          })\r\n          .on('end', (event, d) => {\r\n            if (!event.active) simulation.alphaTarget(0);\r\n            d.fx = null;\r\n            d.fy = null;\r\n          })\r\n      );\r\n\r\n    // Zoom handling\r\n    const zoom = d3\r\n      .zoom<SVGSVGElement, unknown>()\r\n      .scaleExtent([0.5, 8])\r\n      .on('zoom', (event) => {\r\n        g.attr('transform', event.transform);\r\n      });\r\n\r\n    svg.call(zoom);\r\n\r\n    // Ticking the simulation\r\n    simulation.on('tick', () => {\r\n      linkSelection\r\n        .attr('x1', (d) => ((d.source as NodeDatum).x ?? 0))\r\n        .attr('y1', (d) => ((d.source as NodeDatum).y ?? 0))\r\n        .attr('x2', (d) => ((d.target as NodeDatum).x ?? 0))\r\n        .attr('y2', (d) => ((d.target as NodeDatum).y ?? 0));\r\n\r\n      nodeSelection\r\n        .attr('cx', (d) => d.x ?? 0)\r\n        .attr('cy', (d) => d.y ?? 0);\r\n    });\r\n  }, [data, minEdgeWeight, sortConfig]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: '20px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n      }}\r\n    >\r\n      <button\r\n        style={{\r\n          alignSelf: 'flex-start',\r\n          marginBottom: '10px',\r\n          padding: '10px 20px',\r\n          fontSize: '14px',\r\n          cursor: 'pointer',\r\n        }}\r\n        onClick={() => (window.location.href = '/')}\r\n      >\r\n        Go Back\r\n      </button>\r\n\r\n      <h1>Artist Collaboration Network</h1>\r\n      <p style={{ maxWidth: '600px', textAlign: 'center', margin: '10px 0' }}>\r\n        This visualization shows collaborations among artists based on shared\r\n        exhibitions. Nodes represent individual artists, and edges indicate\r\n        shared exhibitions, weighted by how many times artists exhibited\r\n        together.\r\n      </p>\r\n\r\n      <div\r\n        style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}\r\n      >\r\n        <svg\r\n          ref={svgRef}\r\n          width={900}\r\n          height={500}\r\n          style={{ border: '1px solid #ccc' }}\r\n        />\r\n      </div>\r\n\r\n      {/* Tooltip Div */}\r\n      <div\r\n        ref={tooltipRef}\r\n        style={{\r\n          position: 'absolute',\r\n          visibility: 'hidden',\r\n          background: '#fff',\r\n          padding: '5px',\r\n          border: '1px solid #ccc',\r\n          borderRadius: '4px',\r\n          pointerEvents: 'none',\r\n          zIndex: 10,\r\n        }}\r\n      ></div>\r\n\r\n      {/* Filters */}\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          justifyContent: 'space-around',\r\n          width: '100%',\r\n          marginTop: '20px',\r\n        }}\r\n      >\r\n        <div>\r\n          <input\r\n            type=\"range\"\r\n            min=\"1\"\r\n            max=\"10\"\r\n            value={minEdgeWeight}\r\n            onChange={(e) => setMinEdgeWeight(parseInt(e.target.value, 10))}\r\n            style={{ width: '300px' }}\r\n          />\r\n          <p>Minimum Shared-Exhibition Weight: {minEdgeWeight}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Data Table */}\r\n      <table\r\n        style={{\r\n          marginTop: '20px',\r\n          borderCollapse: 'collapse',\r\n          width: '80%',\r\n          textAlign: 'left',\r\n        }}\r\n      >\r\n        <thead>\r\n          <tr style={{ backgroundColor: '#f2f2f2' }}>\r\n            <th style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n              ID\r\n              <button\r\n                onClick={() => handleSort('id')}\r\n                style={{\r\n                  marginLeft: '10px',\r\n                  backgroundColor: '#ddd',\r\n                  border: 'none',\r\n                  cursor: 'pointer',\r\n                  padding: '5px',\r\n                }}\r\n              >\r\n                Sort\r\n              </button>\r\n            </th>\r\n            <th style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n              Nationality\r\n              <button\r\n                onClick={() => handleSort('nationality')}\r\n                style={{\r\n                  marginLeft: '10px',\r\n                  backgroundColor: '#ddd',\r\n                  border: 'none',\r\n                  cursor: 'pointer',\r\n                  padding: '5px',\r\n                }}\r\n              >\r\n                Sort\r\n              </button>\r\n            </th>\r\n            <th style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n              Exhibitions\r\n              <button\r\n                onClick={() => handleSort('exhibitions_count')}\r\n                style={{\r\n                  marginLeft: '10px',\r\n                  backgroundColor: '#ddd',\r\n                  border: 'none',\r\n                  cursor: 'pointer',\r\n                  padding: '5px',\r\n                }}\r\n              >\r\n                Sort\r\n              </button>\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {summaryData().map((entry, index) => (\r\n            <tr key={index}>\r\n              <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                {entry.id}\r\n              </td>\r\n              <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                {entry.nationality}\r\n              </td>\r\n              <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                {entry.exhibitions_count}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      <button\r\n        style={{\r\n          marginTop: '20px',\r\n          padding: '10px 20px',\r\n          fontSize: '14px',\r\n          cursor: 'pointer',\r\n        }}\r\n        onClick={exportData}\r\n      >\r\n        Export Data\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArtVisCollaborationNetwork;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}